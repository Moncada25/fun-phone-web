---
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import PrivacyBadge from '../../components/PrivacyBadge.astro';

const siteUrl = 'https://moncada25.github.io/fun-phone-web/privacy/';
const lastUpdated = '3 sep 2025';
const lastUpdatedEn = 'Sep 3, 2025';
---
<!DOCTYPE html>
<html lang="es" x-data="pageState()" x-on:lang.window="updateLang($event.detail)" x-bind:lang="lang" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Política de Privacidad Fun Phone | Datos y permisos transparentes</title>
    <meta name="description" content="Lee cómo Fun Phone gestiona tus datos: permisos, almacenamiento local, finalidad, compartición y controles disponibles para ti." />
    <link rel="canonical" href={siteUrl} />
    <link rel="alternate" href={siteUrl} hrefLang="es" />
    <link rel="alternate" href={siteUrl} hrefLang="en" />
    <meta name="robots" content="index, follow" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Fun Phone" />
    <meta property="og:title" content="Política de Privacidad Fun Phone" />
    <meta property="og:description" content="Fun Phone almacena tus contactos en el dispositivo, sin anuncios ni venta de datos. Descubre todos los detalles." />
    <meta property="og:url" content={siteUrl} />
    <meta property="og:image" content={import.meta.env.BASE_URL + 'assets/screenshots/dialer.png'} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Política de Privacidad Fun Phone" />
    <meta name="twitter:description" content="Datos locales, permisos transparentes y controles para el usuario." />
    <meta property="og:locale" content="es_ES" />
    <meta property="og:locale:alternate" content="en_US" />
    <script>
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('darkMode');
      const isDark = savedTheme !== null ? savedTheme === 'true' : prefersDark;
      document.documentElement.classList.toggle('dark', isDark);
      document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';
    </script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>
  <body class="min-h-screen bg-gradient-to-br from-white via-sky-50/40 to-white text-neutral-900 dark:from-neutral-950 dark:via-neutral-950/50 dark:to-neutral-950">
    <Navbar />
    <main id="main-content" role="main" class="mx-auto flex w-full max-w-5xl flex-col gap-10 px-4 pt-28 pb-20">
      <header class="rounded-4xl border border-neutral-200 bg-white/80 p-10 text-center shadow-xl shadow-accent/10 backdrop-blur dark:border-neutral-800 dark:bg-neutral-900/80">
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-accent" x-show="lang==='es'">Privacidad real</p>
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-accent" x-show="lang==='en'">Real privacy</p>
        <h1 class="mt-4 text-4xl font-black leading-tight tracking-tight text-neutral-900 dark:text-neutral-50">
          <span x-show="lang==='es'">Política de privacidad de Fun Phone</span>
          <span x-show="lang==='en'">Fun Phone privacy policy</span>
        </h1>
        <div class="mt-6 flex flex-col items-center gap-3">
          <PrivacyBadge />
          <p class="text-sm text-neutral-500 dark:text-neutral-400">
            <span x-show="lang==='es'"><b>Última actualización:</b> {lastUpdated}</span>
            <span x-show="lang==='en'"><b>Last updated:</b> {lastUpdatedEn}</span>
          </p>
        </div>
      </header>

      <section class="grid gap-6 lg:grid-cols-[1fr_300px]">
        <article class="space-y-8">
          <section id="about" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <p x-show="lang==='es'">
              <em>Fun Phone</em> es una aplicación de teléfono/dialer y contactos. Al configurarla como tu <b>aplicación de Teléfono predeterminada</b>, podrás realizar, contestar y gestionar llamadas, así como administrar tu agenda de forma sencilla.
            </p>
            <p x-show="lang==='en'">
              <em>Fun Phone</em> is a dialer and contacts app. When set as your <b>default Phone app</b>, it lets you place, receive, and manage calls and contacts seamlessly.
            </p>
          </section>

          <section id="data" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">1. Datos que tratamos</span>
                <span x-show="lang==='en'">1. Data we process</span>
              </h2>
              <a href="#data" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <ul class="mt-4 space-y-3 text-sm text-neutral-600 dark:text-neutral-300">
              <li>
                <strong>Contacts</strong>
                <span x-show="lang==='es'"> — leer, crear, editar y eliminar para mostrarlos y gestionarlos.</span>
                <span x-show="lang==='en'"> — read, create, edit, and delete to display and manage them.</span>
              </li>
              <li>
                <strong>Call log</strong>
                <span x-show="lang==='es'"> — leer y escribir el historial cuando Fun Phone es el Teléfono predeterminado.</span>
                <span x-show="lang==='en'"> — read/write history when Fun Phone is set as default.</span>
              </li>
              <li>
                <strong>Phone state & numbers</strong>
                <span x-show="lang==='es'"> — identificar la línea activa y el estado de la llamada.</span>
                <span x-show="lang==='en'"> — identify the active line and call state.</span>
              </li>
              <li>
                <strong>Diagnostics (optional)</strong>
                <span x-show="lang==='es'"> — informes de fallos anónimos (Firebase Crashlytics).</span>
                <span x-show="lang==='en'"> — anonymous crash reports (Firebase Crashlytics).</span>
              </li>
            </ul>
          </section>

          <section id="purpose" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">2. Finalidad</span>
                <span x-show="lang==='en'">2. Purpose</span>
              </h2>
              <a href="#purpose" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <ul class="mt-4 list-disc space-y-2 pl-5 text-sm text-neutral-600 dark:text-neutral-300">
              <li x-show="lang==='es'">Mostrar y gestionar tus llamadas recientes.</li>
              <li x-show="lang==='en'">Display and manage recent calls.</li>
              <li x-show="lang==='es'">Realizar o contestar llamadas desde la interfaz de Fun Phone.</li>
              <li x-show="lang==='en'">Place or answer calls from Fun Phone’s UI.</li>
              <li x-show="lang==='es'">Sincronizar nombres de contacto con el historial.</li>
              <li x-show="lang==='en'">Sync contact names with call history.</li>
              <li x-show="lang==='es'">Mejorar la estabilidad mediante métricas anónimas.</li>
              <li x-show="lang==='en'">Improve stability via anonymous metrics.</li>
            </ul>
          </section>

          <section id="storage" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">3. Almacenamiento y retención</span>
                <span x-show="lang==='en'">3. Storage & retention</span>
              </h2>
              <a href="#storage" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <p class="mt-4 text-sm text-neutral-600 dark:text-neutral-300" x-show="lang==='es'">Los contactos y registros permanecen en tu dispositivo Android. No se transfieren a servidores propios. Los informes de fallos se mantienen hasta 90 días.</p>
            <p class="mt-4 text-sm text-neutral-600 dark:text-neutral-300" x-show="lang==='en'">Contacts and call logs stay on your device. We do not transfer this info to our servers. Crash logs are kept for up to 90 days.</p>
          </section>

          <section id="sharing" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">4. Compartición</span>
                <span x-show="lang==='en'">4. Sharing</span>
              </h2>
              <a href="#sharing" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <p class="mt-4 text-sm text-neutral-600 dark:text-neutral-300" x-show="lang==='es'">No vendemos datos. Solo se comparten con:</p>
            <p class="mt-4 text-sm text-neutral-600 dark:text-neutral-300" x-show="lang==='en'">We don’t sell data. Shared only with:</p>
            <ul class="mt-3 list-disc space-y-2 pl-5 text-sm text-neutral-600 dark:text-neutral-300">
              <li><b>Google Firebase Crashlytics</b> — <span x-show="lang==='es'">informes de fallos anónimos (puedes desactivar en Ajustes → Privacidad).</span><span x-show="lang==='en'">anonymous crash reporting (opt out in Settings → Privacy).</span></li>
            </ul>
          </section>

          <section id="permissions" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">5. Permisos solicitados</span>
                <span x-show="lang==='en'">5. Permissions requested</span>
              </h2>
              <a href="#permissions" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <ul class="mt-4 grid gap-y-2 pl-5 text-sm text-neutral-600 dark:text-neutral-300 sm:grid-cols-2">
              <li>CALL_PHONE, ANSWER_PHONE_CALLS</li>
              <li>READ/WRITE_CALL_LOG <span class="text-xs opacity-70">(default only / solo predeterminado)</span></li>
              <li>READ_PHONE_STATE, READ_PHONE_NUMBERS</li>
              <li>READ/WRITE_CONTACTS</li>
            </ul>
          </section>

          <section id="controls" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">6. Tus controles</span>
                <span x-show="lang==='en'">6. Your controls</span>
              </h2>
              <a href="#controls" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <ul class="mt-4 list-disc space-y-2 pl-5 text-sm text-neutral-600 dark:text-neutral-300">
              <li x-show="lang==='es'">Revocar permisos: Ajustes → Apps → Fun Phone → Permisos.</li>
              <li x-show="lang==='en'">Revoke permissions: Settings → Apps → Fun Phone → Permissions.</li>
              <li x-show="lang==='es'">Quitar como Teléfono predeterminado: Ajustes → Apps predeterminadas.</li>
              <li x-show="lang==='en'">Remove as default Phone: Settings → Default apps.</li>
              <li x-show="lang==='es'">Eliminar datos: gestionar historial o desinstalar.</li>
              <li x-show="lang==='en'">Delete data: manage call log or uninstall.</li>
              <li x-show="lang==='es'">Opt-out Crashlytics: Fun Phone → Privacidad.</li>
              <li x-show="lang==='en'">Opt-out Crashlytics: Fun Phone → Privacy.</li>
            </ul>
          </section>

          <section id="children" class="rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-sm dark:border-neutral-800 dark:bg-neutral-900/70">
            <div class="flex items-center justify-between gap-3">
              <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-50">
                <span x-show="lang==='es'">7. Menores</span>
                <span x-show="lang==='en'">7. Children</span>
              </h2>
              <a href="#children" class="text-sm font-semibold text-accent hover:underline">#</a>
            </div>
            <p class="mt-4 text-sm text-neutral-600 dark:text-neutral-300" x-show="lang==='es'">No dirigida a menores de 13 años.</p>
            <p class="mt-4 text-sm text-neutral-600 dark:text-neutral-300" x-show="lang==='en'">Not directed to children under 13.</p>
          </section>

          <div class="text-center">
            <a href="#main-content" class="inline-flex items-center gap-2 text-sm font-semibold text-accent hover:underline">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M5 15l7-7 7 7"/></svg>
              <span x-show="lang==='es'">Volver arriba</span>
              <span x-show="lang==='en'">Back to top</span>
            </a>
          </div>
        </article>

        <aside class="sticky top-28 h-fit space-y-6 rounded-3xl border border-neutral-200 bg-white/80 p-6 shadow-lg shadow-accent/5 backdrop-blur dark:border-neutral-800 dark:bg-neutral-900/70">
          <h2 class="text-sm font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-400" x-show="lang==='es'">Resumen rápido</h2>
          <h2 class="text-sm font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-400" x-show="lang==='en'">Quick summary</h2>
          <dl class="space-y-3 text-sm text-neutral-600 dark:text-neutral-300">
            <div class="flex items-center justify-between gap-2">
              <dt x-show="lang==='es'">Datos compartidos</dt>
              <dt x-show="lang==='en'">Data shared</dt>
              <dd class="font-semibold text-accent">0</dd>
            </div>
            <div class="flex items-center justify-between gap-2">
              <dt x-show="lang==='es'">Almacenamiento</dt>
              <dt x-show="lang==='en'">Storage</dt>
              <dd class="font-semibold text-accent" x-show="lang==='es'">100% local</dd>
              <dd class="font-semibold text-accent" x-show="lang==='en'">100% local</dd>
            </div>
            <div class="flex items-center justify-between gap-2">
              <dt x-show="lang==='es'">Crashlytics</dt>
              <dt x-show="lang==='en'">Crashlytics</dt>
              <dd class="font-semibold text-accent" x-show="lang==='es'">Opcional</dd>
              <dd class="font-semibold text-accent" x-show="lang==='en'">Optional</dd>
            </div>
          </dl>
          <nav class="space-y-2 text-sm text-neutral-600 dark:text-neutral-300">
            <template x-for="item in toc" :key="item.id">
              <a :href="item.href" class="flex items-center gap-2 rounded-full border border-transparent px-4 py-2 transition hover:border-accent hover:bg-accent/10 hover:text-accent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent">
                <span class="h-1.5 w-1.5 rounded-full bg-accent"></span>
                <span x-text="lang === 'es' ? item.labelEs : item.labelEn"></span>
              </a>
            </template>
          </nav>
          <div class="rounded-3xl border border-dashed border-accent/30 bg-accent/5 p-4 text-xs text-neutral-600 dark:border-accent/40 dark:bg-accent/10 dark:text-neutral-300">
            <p x-show="lang==='es'">Para dudas legales escribe a <a href="mailto:santiago.moncada.dev@gmail.com" class="text-accent underline">santiago.moncada.dev@gmail.com</a>.</p>
            <p x-show="lang==='en'">For legal questions email <a href="mailto:santiago.moncada.dev@gmail.com" class="text-accent underline">santiago.moncada.dev@gmail.com</a>.</p>
          </div>
        </aside>
      </section>
    </main>
    <Footer />

    <script is:inline>
      function pageState() {
        return {
          lang: localStorage.getItem('lang') || (navigator.language?.startsWith('es') ? 'es' : 'en'),
          toc: [
            { id: 'about', href: '#about', labelEs: 'Sobre la app', labelEn: 'About the app' },
            { id: 'data', href: '#data', labelEs: 'Datos que tratamos', labelEn: 'Data we process' },
            { id: 'purpose', href: '#purpose', labelEs: 'Finalidad', labelEn: 'Purpose' },
            { id: 'storage', href: '#storage', labelEs: 'Almacenamiento', labelEn: 'Storage' },
            { id: 'sharing', href: '#sharing', labelEs: 'Compartición', labelEn: 'Sharing' },
            { id: 'permissions', href: '#permissions', labelEs: 'Permisos', labelEn: 'Permissions' },
            { id: 'controls', href: '#controls', labelEs: 'Tus controles', labelEn: 'Your controls' },
            { id: 'children', href: '#children', labelEs: 'Menores', labelEn: 'Children' }
          ],
          init() {
            document.documentElement.setAttribute('data-lang', this.lang);
          },
          updateLang(value) {
            if (!value) return;
            this.lang = value;
            document.documentElement.setAttribute('data-lang', this.lang);
          }
        };
      }
    </script>
  </body>
</html>
